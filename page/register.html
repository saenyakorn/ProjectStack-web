<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../Semantic-UI-CSS-master/semantic.min.css">
    <link rel="stylesheet" href="../style/style.css">
    <link rel="stylesheet" href="../style/anos_style.css">
    <script src="../Semantic-UI-CSS-master/semantic.min.js"></script>
    <title>Project Stack</title>
</head>

<body>
    <div class="signup col">
        <h1 class="head">Registration</h1>
        <div class="formbox col">
            <form class="form col-start">
                <h3>Username</h3>
                <input class="user" type="text" name="Username" placeholder="Username" aria-required="true" data-ok="false" required/>
                <h3>Title</h3>
                <div class="ui dropdown" style="margin-bottom: 2rem">
                    <input class="user" name="gender" type="hidden" required/>
                    <div class="default text">Gender</div>
                    <div class="menu">
                        <div class="item" data-value="male">Male</div>
                        <div class="item" data-value="female">Female</div>
                    </div>
                    <i class="dropdown icon"></i>
                </div>
                <div class="flex">
                    <div class="first half">
                        <h3>Name</h3>
                        <input class="user" type="text" name="FirstName" placeholder="Name" required/>
                    </div>
                    <div class="half">
                        <h3>Surname</h3>
                        <input class="user" type="text" name="SurName" placeholder="Surname" required/>
                    </div>
                </div>
                <div class="flex">
                    <div class="half">
                        <h3>Birthdate</h3>
                        <input class="user" id="date" type="date" name="Birthdate" placeholder="dd/mm/yyyy" required/>
                    </div>
                </div>
                <h3>Email</h3>
                <input class="user" type="email" name="Email" placeholder="example@gmail.com" required/>
                <h3>Telephone</h3>
                <input class="user" type="tel" name="Tel" placeholder="098-492-6445" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" required/>
                <h3>Status</h3>
                <input class="user" type="text" name="Status" placeholder="Student / Worker / Manager" required/>
                <h3>Work at</h3>
                <input class="user" type="text" name="Work" placeholder="Apple.inc / Line" required/>
                <h3>Password</h3>
                <input class="user" type="password" name="Password" placeholder="Password" required/>
                <h3>Confirm Password</h3>
                <input class="user" type="password" name="ConfirmPassword" placeholder="Confirm Password" required/>
            </form>
        </div>
        <button class="button-bottom center cursor" type="submit" id="input-submit">
            <p>Submit</p>
        </button>
    </div>
</body>

<script>
    $('.ui.dropdown').dropdown();
    /*$('#date').calendar({
        type: 'date'
    });*/
    $('#input-submit').click(function() {
        var allinput = [];
        var valid = true;
        $('.user').each(function() {
            if ($(this).prop('required') && $(this).value == null)
                valid = false;
            allinput.push(this.value);
        })
        if (!valid) return;
        const data = {
            username: allinput[0],
            title: allinput[1],
            firstname: allinput[2],
            lastname: allinput[3],
            birthdate: allinput[4],
            email: allinput[5],
            tel: allinput[6],
            job: allinput[7],
            workplace: allinput[8],
            password: allinput[9],
            confirmpassword: allinput[10],
        }
        $.ajax({
            url: "https://asia-east2-cunex-vote-uat.cloudfunctions.net/api/vote",
            type: "POST",
            data: data,
            dataType: "json",
            success: function(result) {
                console.log(result);
            },
            error: function(error) {
                console.log(error);
            }
        })
    })
</script>

</html>